<!DOCTYPE html>

<html xmlns:th="http://www.w3.org/1999/xhtml">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">

  <title>Script Info: SUSTC</title>

  <link
      href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,400,600,700,300&subset=latin"
      rel="stylesheet" type="text/css">
  <link href="//code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css" rel="stylesheet"
        type="text/css">
  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
        rel="stylesheet"
        integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN"
        crossorigin="anonymous">

  <!-- DEMO ONLY: Function for the proper stylesheet loading according to the demo settings -->
  <script>function _pxDemo_loadStylesheet(a, b, c) {
    var c = c || decodeURIComponent(
        (new RegExp(";\\s*" + encodeURIComponent("px-demo-theme") + "\\s*=\\s*([^;]+)\\s*;",
            "g").exec(";" + document.cookie + ";") || [])[1] || "clean"),
        d = "rtl" === document.getElementsByTagName("html")[0].getAttribute("dir");
    document.write(a.replace(/^(.*?)((?:\.min)?\.css)$/,
        '<link href="$1' + (c.indexOf("dark") !== -1 && a.indexOf("/css/") !== -1 && a.indexOf(
        "/themes/") === -1 ? "-dark" : "") + (!d || 0 !== a.indexOf("../css") && 0 !== a.indexOf(
        "../demo") ? "" : ".rtl") + '$2" rel="stylesheet" type="text/css"' + (b ? 'class="' + b
        + '"' : "") + ">"))
  }</script>

  <!-- DEMO ONLY: Set RTL direction -->
  <script>"ltr" !== document.getElementsByTagName("html")[0].getAttribute("dir") && "1"
  === decodeURIComponent(
      (new RegExp(";\\s*" + encodeURIComponent("px-demo-rtl") + "\\s*=\\s*([^;]+)\\s*;", "g").exec(
          ";" + document.cookie + ";") || [])[1] || "0") && document.getElementsByTagName(
      "html")[0].setAttribute("dir", "rtl");</script>

  <!-- DEMO ONLY: Load PixelAdmin core stylesheets -->
  <script>
    _pxDemo_loadStylesheet('../css/bootstrap.min.css', 'px-demo-stylesheet-bs');
    _pxDemo_loadStylesheet('../css/pixeladmin.min.css', 'px-demo-stylesheet-core');
    _pxDemo_loadStylesheet('../css/widgets.min.css', 'px-demo-stylesheet-widgets');
  </script>

  <!-- DEMO ONLY: Load theme -->
  <script>
    function _pxDemo_loadTheme(a) {
      var b = decodeURIComponent(
          (new RegExp(";\\s*" + encodeURIComponent("px-demo-theme") + "\\s*=\\s*([^;]+)\\s*;",
              "g").exec(";" + document.cookie + ";") || [])[1] || "clean");
      _pxDemo_loadStylesheet(a + b + ".min.css", "px-demo-stylesheet-theme", b)
    }

    _pxDemo_loadTheme('../css/themes/');
  </script>

  <!-- Demo .. -->
  <script>_pxDemo_loadStylesheet('../demo/demo.css');</script>
  <!-- / Demo .. -->

  <!-- holder.js -->
  <script type="text/javascript"
          src="//cdnjs.cloudflare.com/ajax/libs/holder/2.9.0/holder.js"></script>

  <!-- Pace.js -->
  <script src="../js/pace.min.js"></script>

  <script src="../demo/demo.js"></script>

  <!-- Custom styling -->
  <style>
    .page-header-form .input-group-addon,
    .page-header-form .form-control {
      background: rgba(0, 0, 0, .05);
    }
  </style>
  <!-- / Custom styling -->
  <style type="text/css" media="screen">
    #editor {
      position: absolute;
      top: 0px;
      right: 10px;
      bottom: 10px;
      left: 10px;
    }
  </style>
</head>
<body>
<nav class="px-nav px-nav-left sidebar"></nav>

<nav class="navbar px-navbar">
  <!-- Header -->
  <div class="navbar-header">
    <a class="navbar-brand px-demo-brand" href="../index"><span
        class="px-demo-logo bg-primary"><span
        class="px-demo-logo-1"></span><span class="px-demo-logo-2"></span><span
        class="px-demo-logo-3"></span><span class="px-demo-logo-4"></span><span
        class="px-demo-logo-5"></span><span class="px-demo-logo-6"></span><span
        class="px-demo-logo-7"></span><span class="px-demo-logo-8"></span><span
        class="px-demo-logo-9"></span></span>SUSTC</a>
  </div>

  <!-- Navbar togglers -->
  <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
          data-target="#px-demo-navbar-collapse"
          aria-expanded="false"><i class="navbar-toggle-icon"></i></button>

  <!-- Collect the nav links, forms, and other content for toggling -->
  <div class="collapse navbar-collapse" id="px-demo-navbar-collapse">
    <ul class="nav navbar-nav">
    </ul>

    <ul class="nav navbar-nav navbar-right">

      <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button"
           aria-haspopup="true"
           aria-expanded="false">
          <img src="demo/avatars/1.jpg" alt="" class="px-navbar-image">
          <!--<span class="hidden-md">John Doe</span>-->
          <span th:text="${user.username}" class="hidden-md">Anonymous</span>
        </a>
        <ul class="dropdown-menu">
          <li><a href="/logout"><i class="dropdown-icon fa fa-power-off"></i>&nbsp;&nbsp;Log Out</a>
          </li>
        </ul>
      </li>

    </ul>
  </div><!-- /.navbar-collapse -->
</nav>

<div class="px-content">
  <ol class="breadcrumb page-breadcrumb">
    <li><a href="/userHome">Home</a></li>
    <li class="active">Script Detail</li>
  </ol>

  <div class="page-header">
    <div class="row">
      <div class="col-md-4 text-xs-center text-md-left text-nowrap">
        <h1><i class="page-header-icon ion-ios-paper"></i>Script Detail</h1>
      </div>
    </div>
  </div>
  <div class="col-lg-10 col-lg-offset-1">
    <div class="panel-body">
      <ul class="nav nav-tabs">
        <li class="active">
          <a href="#tabs-home" data-toggle="tab" aria-expanded="false"
             style="width: 120px; text-align: center">
            Info
          </a>
        </li>
        <li class="">
          <a href="#tabs-profile" data-toggle="tab" aria-expanded="false"
             style="width: 120px; text-align: center">
            Code
          </a>
        </li>
      </ul>

      <div class="tab-content tab-content-bordered">
        <div class="tab-pane fade active in" id="tabs-home">
          <div class="table-primary">
            <table class="table table-bordered">
              <thead>
              <tr>
                <th>Author</th>
                <th>Version</th>
                <th>Total Install</th>
                <th>Updated</th>
                <th>Ratings</th>
                <th>License</th>
              </tr>
              </thead>
              <tbody>
              <tr>
                <td th:text="${script.author}">Guanhaodl</td>
                <td>1.0.0</td>
                <td th:text="${script.runTime}">0</td>
                <td th:text="${script.createTime}">2018.10.08</td>
                <td th:text="${script.popularPoints}">5.0</td>
                <td>MIT</td>
              </tr>
              </tbody>
            </table>
          </div>

          <div class="panel">
            <div class="panel-heading">
              <div class="panel-title">Description</div>
            </div>
            <div class="panel-body">
              <p class="text-muted" th:text="${script.description}">
                A block of help text that breaks onto a new line and may extend beyond one line.
              </p>
            </div>
          </div>

          <div class="panel col-md-12">
            <div class="panel-body">
              <form action="#" th:action="@{/runScript/}+${script.id}+'/'+${script.type.name}"
                    th:object="${scriptRun}" method="POST">
                <br>
                <textarea id="runArgs" class="form-control" rows="2"
                          placeholder="Commandline Argument:" th:field="*{args_str}"></textarea>
                <br>
                <textarea id="runResult" readonly class="form-control" rows="2"
                          th:text="${result}"></textarea>
                <br>
                <button type="button" onclick="runScript()" class="btn btn-success btn-outline"
                        style="width: 100px">Run
                </button>
                &emsp;&emsp;&emsp;
                <button type="button" onclick="thumbUp()" class="btn btn-primary btn-outline"
                        style="width: 100px"> <i class="fa fa-thumbs-o-up"></i>
                </button>
                &emsp;&emsp;&emsp;
                <button type="button" data-toggle="collapse" data-target="#collapseExample"
                        aria-expanded="false" aria-controls="collapseExample"
                        class="btn btn-warning btn-outline" style="width: 100px">Share
                </button>
              </form>
              <br>
              <br>
              <div class="a2a_kit a2a_kit_size_32 a2a_default_style collapse" id="collapseExample">
                <a class="a2a_dd" href="https://www.addtoany.com/share"></a>
                <a class="a2a_button_facebook"></a>
                <a class="a2a_button_twitter"></a>
                <a class="a2a_button_google_plus"></a>
                <a class="a2a_button_google_gmail"></a>
                <a class="a2a_button_copy_link"></a>
              </div>
              <script async src="https://static.addtoany.com/menu/page.js"></script>
              
            </div>
          </div>

          <script th:inline="javascript">
            function runScript() {
              var postData = {
                "args": document.getElementById("runArgs").value
              };
              var id = [[${script.id}]];
              var type = [[${script.type.name}]];
              $.post("/runScript/" + id + "/" + type, postData, function (result) {
                document.getElementById("runResult").innerText = result;
                if (result === null || result === "") {
                    alert("No output. Please check the script.");
                }
              });
            }
            function thumbUp() {
                var id = [[${script.id}]];
                $.post("/thumbUp/" + id, function (result) {
                    alert(result);
                    location.reload();
                });
            }
          </script>

          <!--<form action="#" th:action="@{/runScript/}+${script.id}+'/'+${script.type.name}" th:object="${scriptRun}" method="post" >-->

          <!--<div class="col-md-12">-->
          <!--<br>-->
          <!--<textarea class="form-control" rows="2" placeholder="Commandline Argument:" th:field="*{args_str}">unun</textarea>-->
          <!--</div>-->
          <!--<br>-->
          <!--<br>-->
          <!--<button type="submit" class="btn btn-lg btn-primary btn-block">RUN</button>-->
          <!--</form>-->

          <!--<br>-->
          <!--<div class="col-md-12">-->
          <!--<br>-->
          <!--<textarea readonly class="form-control" rows="2" th:text="${result}"></textarea>-->
          <!--</div>-->
          <!--<br>-->

        </div>

        <div class="tab-pane fade" id="tabs-profile">
          <div class="col-md-12">
            <div class="panel clearfix text-default" style="height: 600px">
              <div id="editor" th:text="${scriptContent}">function foo(items) {
                var x = "Hello World!";
                return x;
                }
              </div>
            </div>
          </div>
        </div>
        <div class="tab-pane fade" id="tabs-dropdown">
          <div class="panel">
            <div class="widget-threads-item">
              <img src="../demo/avatars/2.jpg" alt="" class="widget-threads-avatar">
              <span class="widget-threads-date">14h</span>
              <a href="#" class="widget-threads-title">Lorem ipsum dolor sit amet</a>
              <div class="widget-threads-info">started by <a href="#" title="">Robert Jang</a> in <a
                  href="#"
                  title="">Forum
                name</a></div>
            </div>

            <div class="widget-threads-item">
              <img src="../demo/avatars/3.jpg" alt="" class="widget-threads-avatar">
              <span class="widget-threads-date">14h</span>
              <a href="#" class="widget-threads-title">Lorem ipsum dolor sit amet</a>
              <div class="widget-threads-info">started by <a href="#" title="">Michelle Bortz</a> in
                <a
                    href="#" title="">Forum name</a></div>
            </div>

            <div class="widget-threads-item">
              <img src="../demo/avatars/4.jpg" alt="" class="widget-threads-avatar">
              <span class="widget-threads-date">14h</span>
              <a href="#" class="widget-threads-title">Lorem ipsum dolor sit amet</a>
              <div class="widget-threads-info">started by <a href="#" title="">Timothy Owens</a> in
                <a
                    href="#" title="">Forum name</a></div>
            </div>

            <div class="widget-threads-item">
              <img src="../demo/avatars/5.jpg" alt="" class="widget-threads-avatar">
              <span class="widget-threads-date">14h</span>
              <a href="#" class="widget-threads-title">Lorem ipsum dolor sit amet</a>
              <div class="widget-threads-info">started by <a href="#" title="">Denise Steiner</a> in
                <a
                    href="#" title="">Forum name</a></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>


</div>

<footer class="px-footer px-footer-bottom p-t-0">
  <br>
  <span class="text-muted">Copyright © 2018 PixelAdmin LLC. All rights reserved.</span>
</footer>

<!-- jQuery -->
<script src="//ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

<script src="../js/bootstrap.min.js"></script>
<script src="../js/pixeladmin.min.js"></script>
<script src="../js/ace/ace.js" type="text/javascript" charset="utf-8"></script>
<script th:inline="javascript">
  var editor = ace.edit("editor");
  var type = [[${script.getType().getName()}]];
  editor.setTheme("ace/theme/chrome");
  editor.session.setMode("ace/mode/" + type);
  editor.setFontSize("16px");
  editor.setReadOnly(true);
</script>
<script>
  // -------------------------------------------------------------------------
  // Initialize DEMO sidebar

  $(function () {
    pxDemo.initializeDemoSidebar();

    $('#px-demo-sidebar').pxSidebar();
    pxDemo.initializeDemo();
  });
</script>

<script type="text/javascript">
  // -------------------------------------------------------------------------
  // Initialize DEMO

  $(function () {
    // $('.header').load("header.html");
    $('.sidebar').load("sidebar.html");

    var file = String(document.location).split('/').pop();

    // Remove unnecessary file parts
    file = file.replace(/(\.html).*/i, '$1');

    if (!/.html$/i.test(file)) {
      file = 'index.html';
    }

    // Activate current nav item
    $('body > .px-nav')
    .find('.px-nav-item > a[href="' + file + '"]')
    .parent()
    .addClass('active');

    $('body > .px-nav').pxNav();
    $('body > .px-footer').pxFooter();

    $('#navbar-notifications').perfectScrollbar();
    $('#navbar-messages').perfectScrollbar();
  });
</script>
</body>
</html>